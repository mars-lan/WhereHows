apply plugin: 'play'

// Change this to listen on a different port
project.ext.httpPort = 9000

dependencies{
    play externalDependency.play_java_ws
    play externalDependency.play_java_jdbc
    play externalDependency.play_filter
    play externalDependency.play_cache
    play externalDependency.spring_jdbc
    play externalDependency.mysql

    playTest 'org.easytesting:fest-assert-core:2.0M10'
    playTest externalDependency.mockito
}

configurations {
    all*.exclude group: 'org.slf4j', module: 'slf4j-log4j12'
    all*.exclude group: 'log4j', module: 'log4j'
}

tasks.withType(PlayRun) {
    httpPort = project.ext.httpPort
}

model {
    components {
        play {
            platform play: '2.4.8', scala: '2.10'

            binaries.all {
                tasks.withType(PlatformScalaCompile) {
                    scalaCompileOptions.forkOptions.jvmArgs = ['-Xms1G', '-Xmx1G', '-Xss2M']
                }
            }
        }
    }

    distributions {
        playBinary {
            baseName = "wherehows-frontend"
        }
    }
}
